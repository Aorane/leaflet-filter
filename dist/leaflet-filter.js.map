{"version":3,"file":"leaflet-filter.js","sources":["../src/js/filter/Leaflet.filter.js","../src/js/filter/FontAwesomeToolbar.js","../src/js/filter/handler/Filter.Feature.js","../src/js/filter/handler/Filter.SimpleShape.js","../src/js/filter/handler/Filter.Polyline.js","../src/js/filter/handler/Filter.Polygon.js","../src/js/filter/handler/Filter.Circle.js","../src/js/filter/handler/Filter.Rectangle.js","../src/js/filter/handler/Filter.Clear.js","../src/js/filter/Control.Filter.js","../src/js/filter/FilterToolbar.js"],"sourcesContent":["L.filterLocal = {\n\tfilter: {\n\t\ttoolbar: {\n\t\t\tactions: {\n\t\t\t\ttitle: 'Cancel drawing',\n\t\t\t\ttext: 'Cancel'\n\t\t\t},\n\t\t\tbuttons: {\n\t\t\t\trectangle: 'Draw a bounding box filter',\n\t\t\t\tpolygon: 'Draw a bounding polygon filter',\n\t\t\t\tpolyline: '',\n\t\t\t\tcircle: 'Draw a bounding circle filter',\n\t\t\t\tdisabled: 'Filter already applied',\n\t\t\t\tclear: 'Clear current filter',\n\t\t\t\tclearDisabled: 'No active filter'\n\t\t\t}\n\t\t},\n\t\thandlers: {\n\t\t\tsimpleshape: {\n\t\t\t\ttooltip: {\n\t\t\t\t\tend: 'Release mouse to finish drawing.'\n\t\t\t\t}\n\t\t\t},\n\t\t\trectangle: {\n\t\t\t\ttooltip: {\n\t\t\t\t\tstart: 'Click and drag to draw rectangle.'\n\t\t\t\t}\n\t\t\t},\n\t\t\tpolyline: {\n\t\t\t\ttooltip: {\n\t\t\t\t\tstart: '',\n\t\t\t\t\tcont: '',\n\t\t\t\t\tend: ''\n\t\t\t\t}\n\t\t\t},\n\t\t\tpolygon: {\n\t\t\t\ttooltip: {\n\t\t\t\t\tstart: 'Click to start drawing shape.',\n\t\t\t\t\tcont: 'Click to continue drawing shape.',\n\t\t\t\t\tend: 'Click first point to close this shape.'\n\t\t\t\t}\n\t\t\t},\n\t\t\tcircle: {\n\t\t\t\ttooltip: {\n\t\t\t\t\tstart: 'Click and drag to draw circle.'\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n","L.FontAwesomeToolbar = L.Class.extend({\n\tincludes: [ L.Mixin.Events ],\n\n\tinitialize: function (options) {\n\t\tL.setOptions(this, options);\n\n\t\tthis._modes = {};\n\t\tthis._actionButtons = [];\n\t\tthis._activeMode = null;\n\t},\n\n\tenabled: function () {\n\t\treturn this._activeMode !== null;\n\t},\n\n\tdisable: function () {\n\t\tif (!this.enabled()) { return; }\n\n\t\tthis._activeMode.handler.disable();\n\t},\n\n\taddToolbar: function (map) {\n\t\tvar container = L.DomUtil.create('div', 'leaflet-draw-section'),\n\t\t\tbuttonIndex = 0,\n\t\t\tbuttonClassPrefix = this._toolbarClass || '',\n\t\t\tmodeHandlers = this.getModeHandlers(map),\n\t\t\ti;\n\n\t\tthis._toolbarContainer = L.DomUtil.create('div', 'leaflet-draw-toolbar leaflet-fa-toolbar leaflet-bar');\n\t\tthis._map = map;\n\n\t\tfor (i = 0; i < modeHandlers.length; i++) {\n\t\t\tif (modeHandlers[i].enabled) {\n\t\t\t\tthis._initModeHandler(\n\t\t\t\t\tmodeHandlers[i].handler,\n\t\t\t\t\tthis._toolbarContainer,\n\t\t\t\t\tbuttonIndex++,\n\t\t\t\t\tbuttonClassPrefix,\n\t\t\t\t\tmodeHandlers[i].title,\n\t\t\t\t\tmodeHandlers[i].icon\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\t// if no buttons were added, do not add the toolbar\n\t\tif (!buttonIndex) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Save button index of the last button, -1 as we would have ++ after the last button\n\t\tthis._lastButtonIndex = --buttonIndex;\n\n\t\t// Create empty actions part of the toolbar\n\t\tthis._actionsContainer = L.DomUtil.create('ul', 'leaflet-draw-actions');\n\n\t\t// Add draw and cancel containers to the control container\n\t\tcontainer.appendChild(this._toolbarContainer);\n\t\tcontainer.appendChild(this._actionsContainer);\n\n\t\treturn container;\n\t},\n\n\tremoveToolbar: function () {\n\t\t// Dispose each handler\n\t\tfor (var handlerId in this._modes) {\n\t\t\tif (this._modes.hasOwnProperty(handlerId)) {\n\t\t\t\t// Unbind handler button\n\t\t\t\tthis._disposeButton(\n\t\t\t\t\tthis._modes[handlerId].button,\n\t\t\t\t\tthis._modes[handlerId].handler.enable,\n\t\t\t\t\tthis._modes[handlerId].handler\n\t\t\t\t);\n\n\t\t\t\t// Make sure is disabled\n\t\t\t\tthis._modes[handlerId].handler.disable();\n\n\t\t\t\t// Unbind handler\n\t\t\t\tthis._modes[handlerId].handler\n\t\t\t\t\t.off('enabled', this._handlerActivated, this)\n\t\t\t\t\t.off('disabled', this._handlerDeactivated, this);\n\t\t\t}\n\t\t}\n\t\tthis._modes = {};\n\n\t\t// Dispose the actions toolbar\n\t\tfor (var i = 0, l = this._actionButtons.length; i < l; i++) {\n\t\t\tthis._disposeButton(\n\t\t\t\tthis._actionButtons[i].button,\n\t\t\t\tthis._actionButtons[i].callback,\n\t\t\t\tthis\n\t\t\t);\n\t\t}\n\t\tthis._actionButtons = [];\n\t\tthis._actionsContainer = null;\n\t},\n\n\t_initModeHandler: function (handler, container, buttonIndex, classNamePrefix, buttonTitle, buttonIcon) {\n\t\tvar type = handler.type;\n\n\t\tthis._modes[type] = {};\n\n\t\tthis._modes[type].handler = handler;\n\n\t\tthis._modes[type].button = this._createButton({\n\t\t\ttitle: buttonTitle,\n\t\t\ticon: buttonIcon,\n\t\t\tclassName: classNamePrefix + '-' + type,\n\t\t\tcontainer: container,\n\t\t\tcallback: this._modes[type].handler.enable,\n\t\t\tcontext: this._modes[type].handler\n\t\t});\n\n\t\tthis._modes[type].buttonIndex = buttonIndex;\n\n\t\tthis._modes[type].handler\n\t\t\t.on('enabled', this._handlerActivated, this)\n\t\t\t.on('disabled', this._handlerDeactivated, this);\n\t},\n\n\t_createButton: function (options) {\n\t\tvar link = L.DomUtil.create('a', options.className || '', options.container);\n\t\tif(null != options.icon) {\n\t\t\tL.DomUtil.create('i', options.icon, link);\n\t\t}\n\n\t\tlink.href = '#';\n\n\t\tif (options.text) {\n\t\t\tlink.innerHTML = options.text;\n\t\t}\n\n\t\tif (options.title) {\n\t\t\tlink.title = options.title;\n\t\t}\n\n\t\tL.DomEvent\n\t\t\t.on(link, 'click', L.DomEvent.stopPropagation)\n\t\t\t.on(link, 'mousedown', L.DomEvent.stopPropagation)\n\t\t\t.on(link, 'dblclick', L.DomEvent.stopPropagation)\n\t\t\t.on(link, 'click', L.DomEvent.preventDefault)\n\t\t\t.on(link, 'click', options.callback, options.context);\n\n\t\treturn link;\n\t},\n\n\t_disposeButton: function (button, callback) {\n\t\tL.DomEvent\n\t\t\t.off(button, 'click', L.DomEvent.stopPropagation)\n\t\t\t.off(button, 'mousedown', L.DomEvent.stopPropagation)\n\t\t\t.off(button, 'dblclick', L.DomEvent.stopPropagation)\n\t\t\t.off(button, 'click', L.DomEvent.preventDefault)\n\t\t\t.off(button, 'click', callback);\n\t},\n\n\t_handlerActivated: function (e) {\n\t\t// Disable active mode (if present)\n\t\tthis.disable();\n\n\t\t// Cache new active feature\n\t\tthis._activeMode = this._modes[e.handler];\n\n\t\tL.DomUtil.addClass(this._activeMode.button, 'leaflet-draw-toolbar-button-enabled');\n\n\t\tthis._showActionsToolbar();\n\n\t\tthis.fire('enable');\n\t},\n\n\t_handlerDeactivated: function () {\n\t\tthis._hideActionsToolbar();\n\n\t\tL.DomUtil.removeClass(this._activeMode.button, 'leaflet-draw-toolbar-button-enabled');\n\n\t\tthis._activeMode = null;\n\n\t\tthis.fire('disable');\n\t},\n\n\t_createActions: function (handler) {\n\t\tvar container = this._actionsContainer,\n\t\t\tbuttons = this.getActions(handler),\n\t\t\tl = buttons.length,\n\t\t\tli, di, dl, button;\n\n\t\t// Dispose the actions toolbar (todo: dispose only not used buttons)\n\t\tfor (di = 0, dl = this._actionButtons.length; di < dl; di++) {\n\t\t\tthis._disposeButton(this._actionButtons[di].button, this._actionButtons[di].callback);\n\t\t}\n\t\tthis._actionButtons = [];\n\n\t\t// Remove all old buttons\n\t\twhile (container.firstChild) {\n\t\t\tcontainer.removeChild(container.firstChild);\n\t\t}\n\n\t\tfor (var i = 0; i < l; i++) {\n\t\t\tif ('enabled' in buttons[i] && !buttons[i].enabled) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tli = L.DomUtil.create('li', '', container);\n\n\t\t\tbutton = this._createButton({\n\t\t\t\ttitle: buttons[i].title,\n\t\t\t\ttext: buttons[i].text,\n\t\t\t\tcontainer: li,\n\t\t\t\tcallback: buttons[i].callback,\n\t\t\t\tcontext: buttons[i].context\n\t\t\t});\n\n\t\t\tthis._actionButtons.push({\n\t\t\t\tbutton: button,\n\t\t\t\tcallback: buttons[i].callback\n\t\t\t});\n\t\t}\n\t},\n\n\t_showActionsToolbar: function () {\n\t\tvar buttonIndex = this._activeMode.buttonIndex,\n\t\t\tlastButtonIndex = this._lastButtonIndex,\n\t\t\ttoolbarPosition = this._activeMode.button.offsetTop - 1;\n\n\t\t// Recreate action buttons on every click\n\t\tthis._createActions(this._activeMode.handler);\n\n\t\t// Correctly position the cancel button\n\t\tthis._actionsContainer.style.top = toolbarPosition + 'px';\n\n\t\tif (buttonIndex === 0) {\n\t\t\tL.DomUtil.addClass(this._toolbarContainer, 'leaflet-draw-toolbar-notop');\n\t\t\tL.DomUtil.addClass(this._actionsContainer, 'leaflet-draw-actions-top');\n\t\t}\n\n\t\tif (buttonIndex === lastButtonIndex) {\n\t\t\tL.DomUtil.addClass(this._toolbarContainer, 'leaflet-draw-toolbar-nobottom');\n\t\t\tL.DomUtil.addClass(this._actionsContainer, 'leaflet-draw-actions-bottom');\n\t\t}\n\n\t\tthis._actionsContainer.style.display = 'block';\n\t},\n\n\t_hideActionsToolbar: function () {\n\t\tthis._actionsContainer.style.display = 'none';\n\n\t\tL.DomUtil.removeClass(this._toolbarContainer, 'leaflet-draw-toolbar-notop');\n\t\tL.DomUtil.removeClass(this._toolbarContainer, 'leaflet-draw-toolbar-nobottom');\n\t\tL.DomUtil.removeClass(this._actionsContainer, 'leaflet-draw-actions-top');\n\t\tL.DomUtil.removeClass(this._actionsContainer, 'leaflet-draw-actions-bottom');\n\t}\n});\n","L.Filter = (null != L.Filter) ? L.Filter : {};\n\nL.Filter.Feature = L.Handler.extend({\n\tincludes: L.Mixin.Events,\n\n\tinitialize: function (map, options) {\n\t\tthis._map = map;\n\t\tthis._container = map._container;\n\t\tthis._overlayPane = map._panes.overlayPane;\n\t\tthis._popupPane = map._panes.popupPane;\n\n\t\t// Merge default shapeOptions options with custom shapeOptions\n\t\tif (options && options.shapeOptions) {\n\t\t\toptions.shapeOptions = L.Util.extend({}, this.options.shapeOptions, options.shapeOptions);\n\t\t}\n\t\tL.setOptions(this, options);\n\t},\n\n\tenable: function () {\n\t\tif (this._enabled || this.isLocked()) { return; }\n\t\tL.Handler.prototype.enable.call(this);\n\t\tthis.fire('enabled', { handler: this.type });\n\t\tthis._map.fire('filter:filterstart', { layerType: this.type });\n\t},\n\n\tdisable: function () {\n\t\tif (!this._enabled) { return; }\n\t\tL.Handler.prototype.disable.call(this);\n\t\tthis._map.fire('filter:filterstop', { layerType: this.type });\n\t\tthis.fire('disabled', { handler: this.type });\n\t},\n\n\tlock: function() {\n\t\tthis._locked = true;\n\t},\n\n\tunlock: function() {\n\t\tthis._locked = false;\n\t},\n\n\tisLocked: function() {\n\t\treturn (null != this._locked && this._locked);\n\t},\n\n\taddHooks: function () {\n\t\tvar map = this._map;\n\n\t\tif (map) {\n\t\t\tL.DomUtil.disableTextSelection();\n\t\t\tmap.getContainer().focus();\n\t\t\tthis._tooltip = new L.Draw.Tooltip(this._map);\n\t\t\tL.DomEvent.on(this._container, 'keyup', this._cancelDrawing, this);\n\t\t}\n\t},\n\n\tremoveHooks: function () {\n\t\tif (this._map) {\n\t\t\tL.DomUtil.enableTextSelection();\n\n\t\t\tthis._tooltip.dispose();\n\t\t\tthis._tooltip = null;\n\n\t\t\tL.DomEvent.off(this._container, 'keyup', this._cancelDrawing, this);\n\t\t}\n\t},\n\n\tsetOptions: function (options) {\n\t\tL.setOptions(this, options);\n\t},\n\n\t_fireCreatedEvent: function (layer) {\n\t\tthis._map.fire('filter:created', { layer: layer, layerType: this.type });\n\t},\n\n\t// Cancel drawing when the escape key is pressed\n\t_cancelDrawing: function (e) {\n\t\tif (e.keyCode === 27) {\n\t\t\tthis.disable();\n\t\t}\n\t}\n});\n","L.Filter = (null != L.Filter) ? L.Filter : {};\n\nL.Filter.SimpleShape = L.Filter.Feature.extend({\n\toptions: {\n\t},\n\n\tinitialize: function (map, options) {\n\t\tthis._endLabelText = L.filterLocal.filter.handlers.simpleshape.tooltip.end;\n\t\tL.Filter.Feature.prototype.initialize.call(this, map, options);\n\t},\n\n\taddHooks: function () {\n\t\tL.Filter.Feature.prototype.addHooks.call(this);\n\t\tif (this._map) {\n\t\t\tthis._mapDraggable = this._map.dragging.enabled();\n\n\t\t\tif (this._mapDraggable) {\n\t\t\t\tthis._map.dragging.disable();\n\t\t\t}\n\n\t\t\t//TODO refactor: move cursor to styles\n\t\t\tthis._container.style.cursor = 'crosshair';\n\t\t\tthis._tooltip.updateContent({ text: this._initialLabelText });\n\n\t\t\tthis._map\n\t\t\t\t.on('mousedown', this._onMouseDown, this)\n\t\t\t\t.on('mousemove', this._onMouseMove, this);\n\t\t}\n\t},\n\n\tremoveHooks: function () {\n\t\tL.Filter.Feature.prototype.removeHooks.call(this);\n\t\tif (this._map) {\n\t\t\tif (this._mapDraggable) {\n\t\t\t\tthis._map.dragging.enable();\n\t\t\t}\n\n\t\t\t//TODO refactor: move cursor to styles\n\t\t\tthis._container.style.cursor = '';\n\n\t\t\tthis._map\n\t\t\t\t.off('mousedown', this._onMouseDown, this)\n\t\t\t\t.off('mousemove', this._onMouseMove, this);\n\n\t\t\tL.DomEvent.off(document, 'mouseup', this._onMouseUp, this);\n\n\t\t\t// If the box element doesn't exist they must not have moved the mouse, so don't need to destroy/return\n\t\t\tif (this._shape) {\n\t\t\t\tthis._map.removeLayer(this._shape);\n\t\t\t\tdelete this._shape;\n\t\t\t}\n\t\t}\n\t\tthis._isDrawing = false;\n\t},\n\n\t_getTooltipText: function () {\n\t\treturn {\n\t\t\ttext: this._endLabelText\n\t\t};\n\t},\n\n\t_onMouseDown: function (e) {\n\t\tthis._isDrawing = true;\n\t\tthis._startLatLng = e.latlng;\n\n\t\tL.DomEvent\n\t\t\t.on(document, 'mouseup', this._onMouseUp, this)\n\t\t\t.preventDefault(e.originalEvent);\n\t},\n\n\t_onMouseMove: function (e) {\n\t\tvar latlng = e.latlng;\n\n\t\tthis._tooltip.updatePosition(latlng);\n\t\tif (this._isDrawing) {\n\t\t\tthis._drawShape(latlng);\n\t\t\tthis._tooltip.updateContent(this._getTooltipText());\n\t\t}\n\t},\n\n\t_onMouseUp: function () {\n\t\tif (this._shape) {\n\t\t\tthis._fireCreatedEvent();\n\t\t}\n\n\t\tthis.disable();\n\t}\n});\n","L.Filter = (null != L.Filter) ? L.Filter : {};\n\nL.Filter.Polyline = L.Filter.Feature.extend({\n\n\tstatics: {\n\t\tTYPE: 'polyline'\n\t},\n\n\tPoly: L.Polyline,\n\n\toptions: {\n\t\tallowIntersection: true,\n\t\trepeatMode: false,\n\t\tdrawError: {\n\t\t\tcolor: '#b00b00',\n\t\t\ttimeout: 2500\n\t\t},\n\t\ticon: new L.DivIcon({\n\t\t\ticonSize: new L.Point(8, 8),\n\t\t\tclassName: 'leaflet-div-icon leaflet-editing-icon'\n\t\t}),\n\t\tguidelineDistance: 20,\n\t\tmaxGuideLineLength: 4000,\n\t\tshapeOptions: {\n\t\t\tstroke: true,\n\t\t\tcolor: '#f06eaa',\n\t\t\tweight: 4,\n\t\t\topacity: 0.5,\n\t\t\tfill: false,\n\t\t\tclickable: true,\n\t\t\teditable: true\n\t\t},\n\t\tmetric: true, // Whether to use the metric meaurement system or imperial\n\t\tshowLength: true, // Whether to display distance in the tooltip\n\t\tzIndexOffset: 2000 // This should be > than the highest z-index any map layers\n\t},\n\n\tinitialize: function (map, options) {\n\t\tthis._endLabelText = L.filterLocal.filter.handlers.polyline.tooltip.end;\n\n\t\t// Need to set this here to ensure the correct message is used.\n\t\tthis.options.drawError.message = L.filterLocal.filter.handlers.polyline.error;\n\n\t\t// Merge default drawError options with custom options\n\t\tif (options && options.drawError) {\n\t\t\toptions.drawError = L.Util.extend({}, this.options.drawError, options.drawError);\n\t\t}\n\n\t\tL.Filter.Feature.prototype.initialize.call(this, map, options);\n\t},\n\n\taddHooks: function () {\n\t\tL.Filter.Feature.prototype.addHooks.call(this);\n\t\tif (this._map) {\n\n\t\t\tthis._markers = [];\n\n\t\t\tthis._markerGroup = new L.LayerGroup();\n\t\t\tthis._map.addLayer(this._markerGroup);\n\n\t\t\tthis._poly = new L.Polyline([], this.options.shapeOptions);\n\n\t\t\tthis._tooltip.updateContent(this._getTooltipText());\n\n\t\t\t// Make a transparent marker that will used to catch click events. These click\n\t\t\t// events will create the vertices. We need to do this so we can ensure that\n\t\t\t// we can create vertices over other map layers (markers, vector layers). We\n\t\t\t// also do not want to trigger any click handlers of objects we are clicking on\n\t\t\t// while drawing.\n\t\t\tif (!this._mouseMarker) {\n\t\t\t\tthis._mouseMarker = L.marker(this._map.getCenter(), {\n\t\t\t\t\ticon: L.divIcon({\n\t\t\t\t\t\tclassName: 'leaflet-mouse-marker',\n\t\t\t\t\t\ticonAnchor: [ 20, 20 ],\n\t\t\t\t\t\ticonSize: [ 40, 40 ]\n\t\t\t\t\t}),\n\t\t\t\t\topacity: 0,\n\t\t\t\t\tzIndexOffset: this.options.zIndexOffset\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis._mouseMarker\n\t\t\t\t.on('mousedown', this._onMouseDown, this)\n\t\t\t\t.addTo(this._map);\n\n\t\t\tthis._map\n\t\t\t\t.on('mousemove', this._onMouseMove, this)\n\t\t\t\t.on('mouseup', this._onMouseUp, this)\n\t\t\t\t.on('zoomend', this._onZoomEnd, this);\n\t\t}\n\t},\n\n\tremoveHooks: function () {\n\n\t\tL.Filter.Feature.prototype.removeHooks.call(this);\n\t\tif (this._map) {\n\n\t\t\t//TODO refactor: move cursor to styles\n\t\t\tthis._container.style.cursor = '';\n\n\t\t\tthis._map\n\t\t\t\t.off('mousedown', this._onMouseDown, this)\n\t\t\t\t.off('mousemove', this._onMouseMove, this);\n\n\t\t\tL.DomEvent.off(document, 'mouseup', this._onMouseUp, this);\n\n\t\t\t/*\n\t\t\t * If no markers or polygons have been created, the user has not entered\n\t\t\t * anything, so there is nothing to delete or remove from the map\n\t\t\t */\n\t\t\tif(this._markerGroup) {\n\t\t\t\tthis._map.removeLayer(this._markerGroup);\n\t\t\t\tdelete this._markerGroup;\n\t\t\t}\n\n\t\t\tif(this._poly) {\n\t\t\t\tthis._map.removeLayer(this._poly);\n\t\t\t\tdelete this._poly;\n\t\t\t}\n\t\t}\n\t\tthis._isDrawing = false;\n\t},\n\n\tdisable: function () {\n\t\tL.Filter.Feature.prototype.disable.call(this);\n\t\tthis._clearMouseMarker();\n\t\tthis._clearGuides();\n\t},\n\n\t_getTooltipText: function () {\n\t\treturn {\n\t\t\ttext: this._endLabelText\n\t\t};\n\t},\n\n\tdeleteLastVertex: function () {\n\t\tif (this._markers.length <= 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar lastMarker = this._markers.pop(),\n\t\t\tpoly = this._poly,\n\t\t\tlatlng = this._poly.spliceLatLngs(poly.getLatLngs().length - 1, 1)[0];\n\n\t\tthis._markerGroup.removeLayer(lastMarker);\n\n\t\tif (poly.getLatLngs().length < 2) {\n\t\t\tthis._map.removeLayer(poly);\n\t\t}\n\n\t\tthis._vertexChanged(latlng, false);\n\t},\n\n\taddVertex: function (latlng) {\n\t\tvar markersLength = this._markers.length;\n\n\t\tif (markersLength > 0 && !this.options.allowIntersection && this._poly.newLatLngIntersects(latlng)) {\n\t\t\t//TODO error state - alert user?\n\t\t\treturn;\n\t\t}\n\n\t\tthis._markers.push(this._createMarker(latlng));\n\n\t\tthis._poly.addLatLng(latlng);\n\n\t\tif (this._poly.getLatLngs().length === 2) {\n\t\t\tthis._map.addLayer(this._poly);\n\t\t}\n\n\t\tthis._vertexChanged(latlng, true);\n\t},\n\n\t_finishShape: function () {\n\t\tvar intersects = this._poly.newLatLngIntersects(this._poly.getLatLngs()[0], true);\n\n\t\tif ((!this.options.allowIntersection && intersects) || !this._shapeIsValid()) {\n\t\t\t//TODO error state - alert user?\n\t\t\treturn;\n\t\t}\n\n\t\tthis._fireCreatedEvent();\n\t\tthis.disable();\n\t\tif (this.options.repeatMode) {\n\t\t\tthis.enable();\n\t\t}\n\n\t\t// Remove the rubberband dashed guide line from the UI\n\t\tthis._clearGuides();\n\n\t\tthis._clearMouseMarker();\n\t},\n\n\t//Called to verify the shape is valid when the user tries to finish it\n\t//Return false if the shape is not valid\n\t_shapeIsValid: function () {\n\t\treturn true;\n\t},\n\n\t_onZoomEnd: function () {\n\t\tthis._updateGuide();\n\t},\n\n\t_onMouseMove: function (e) {\n\t\tvar newPos = e.layerPoint,\n\t\t\tlatlng = e.latlng;\n\n\t\t// Save latlng\n\t\t// should this be moved to _updateGuide() ?\n\t\tthis._currentLatLng = latlng;\n\n\t\tthis._updateTooltip(latlng);\n\n\t\t// Update the guide line\n\t\tthis._updateGuide(newPos);\n\n\t\t// Update the mouse marker position\n\t\tthis._mouseMarker.setLatLng(latlng);\n\n\t\tL.DomEvent.preventDefault(e.originalEvent);\n\t},\n\n\t_vertexChanged: function (latlng, added) {\n\t\tthis._updateFinishHandler();\n\n\t\tthis._updateRunningMeasure(latlng, added);\n\n\t\tthis._clearGuides();\n\n\t\tthis._updateTooltip();\n\t},\n\n\t_onMouseDown: function (e) {\n\t\tvar originalEvent = e.originalEvent;\n\t\tthis._mouseDownOrigin = L.point(originalEvent.clientX, originalEvent.clientY);\n\t},\n\n\t_onMouseUp: function (e) {\n\t\tif (this._mouseDownOrigin) {\n\t\t\t// We detect clicks within a certain tolerance, otherwise let it\n\t\t\t// be interpreted as a drag by the map\n\t\t\tvar distance = L.point(e.originalEvent.clientX, e.originalEvent.clientY)\n\t\t\t\t.distanceTo(this._mouseDownOrigin);\n\t\t\tif (Math.abs(distance) < 9 /* * (window.devicePixelRatio || 1)*/) {\n\t\t\t\tthis.addVertex(e.latlng);\n\t\t\t}\n\t\t}\n\t\tthis._mouseDownOrigin = null;\n\t},\n\n\t_updateFinishHandler: function () {\n\t\tvar markerCount = this._markers.length;\n\t\t// The last marker should have a click handler to close the polyline\n\t\tif (markerCount > 1) {\n\t\t\tthis._markers[markerCount - 1].on('click', this._finishShape, this);\n\t\t}\n\n\t\t// Remove the old marker click handler (as only the last point should close the polyline)\n\t\tif (markerCount > 2) {\n\t\t\tthis._markers[markerCount - 2].off('click', this._finishShape, this);\n\t\t}\n\t},\n\n\t_createMarker: function (latlng) {\n\t\tvar marker = new L.Marker(latlng, {\n\t\t\ticon: this.options.icon,\n\t\t\tzIndexOffset: this.options.zIndexOffset * 2\n\t\t});\n\n\t\tthis._markerGroup.addLayer(marker);\n\n\t\treturn marker;\n\t},\n\n\t_updateGuide: function (newPos) {\n\t\tvar markerCount = this._markers.length;\n\n\t\tif (markerCount > 0) {\n\t\t\tnewPos = newPos || this._map.latLngToLayerPoint(this._currentLatLng);\n\n\t\t\t// draw the guide line\n\t\t\tthis._clearGuides();\n\t\t\tthis._drawGuide(\n\t\t\t\tthis._map.latLngToLayerPoint(this._markers[markerCount - 1].getLatLng()),\n\t\t\t\tnewPos\n\t\t\t);\n\t\t}\n\t},\n\n\t_updateRunningMeasure: function (latlng, added) {\n\t\tvar markersLength = this._markers.length,\n\t\t\tpreviousMarkerIndex, distance;\n\n\t\tif (this._markers.length === 1) {\n\t\t\tthis._measurementRunningTotal = 0;\n\t\t}\n\t\telse {\n\t\t\tpreviousMarkerIndex = markersLength - (added ? 2 : 1);\n\t\t\tdistance = latlng.distanceTo(this._markers[previousMarkerIndex].getLatLng());\n\n\t\t\tthis._measurementRunningTotal += distance * (added ? 1 : -1);\n\t\t}\n\t},\n\n\t_updateTooltip: function (latLng) {\n\t\tvar text = this._getTooltipText();\n\n\t\tif (latLng) {\n\t\t\tthis._tooltip.updatePosition(latLng);\n\t\t}\n\n\t\tif (!this._errorShown) {\n\t\t\tthis._tooltip.updateContent(text);\n\t\t}\n\t},\n\n\t_drawGuide: function (pointA, pointB) {\n\t\tvar length = Math.floor(Math.sqrt(Math.pow((pointB.x - pointA.x), 2) + Math.pow((pointB.y - pointA.y), 2))),\n\t\t\tguidelineDistance = this.options.guidelineDistance,\n\t\t\tmaxGuideLineLength = this.options.maxGuideLineLength,\n\t\t\t// Only draw a guideline with a max length\n\t\t\ti = length > maxGuideLineLength ? length - maxGuideLineLength : guidelineDistance,\n\t\t\tfraction,\n\t\t\tdashPoint,\n\t\t\tdash;\n\n\t\t//create the guides container if we haven't yet\n\t\tif (!this._guidesContainer) {\n\t\t\tthis._guidesContainer = L.DomUtil.create('div', 'leaflet-draw-guides', this._overlayPane);\n\t\t}\n\n\t\t//draw a dash every GuildeLineDistance\n\t\tfor (; i < length; i += this.options.guidelineDistance) {\n\t\t\t//work out fraction along line we are\n\t\t\tfraction = i / length;\n\n\t\t\t//calculate new x,y point\n\t\t\tdashPoint = {\n\t\t\t\tx: Math.floor((pointA.x * (1 - fraction)) + (fraction * pointB.x)),\n\t\t\t\ty: Math.floor((pointA.y * (1 - fraction)) + (fraction * pointB.y))\n\t\t\t};\n\n\t\t\t//add guide dash to guide container\n\t\t\tdash = L.DomUtil.create('div', 'leaflet-draw-guide-dash', this._guidesContainer);\n\t\t\tdash.style.backgroundColor =\n\t\t\t\t!this._errorShown ? this.options.shapeOptions.color : this.options.drawError.color;\n\n\t\t\tL.DomUtil.setPosition(dash, dashPoint);\n\t\t}\n\t},\n\n\t_updateGuideColor: function (color) {\n\t\tif (this._guidesContainer) {\n\t\t\tfor (var i = 0, l = this._guidesContainer.childNodes.length; i < l; i++) {\n\t\t\t\tthis._guidesContainer.childNodes[i].style.backgroundColor = color;\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Remove the Mouse Marker from the Map, or it will mask the click/drag\n\t * events on the last placed point, preventing it from being editable after\n\t * the shape is finished.\n\t */\n\t_clearMouseMarker: function() {\n\t\tif(this._mouseMarker) {\n\t\t\t// remove the mouse marker from the first point placement\n\t\t\tthis._map.removeLayer(this._mouseMarker);\n\t\t\tdelete this._mouseMarker;\n\t\t}\n\t},\n\n\t// removes all child elements (guide dashes) from the guides container\n\t_clearGuides: function () {\n\t\tif (this._guidesContainer) {\n\t\t\twhile (this._guidesContainer.firstChild) {\n\t\t\t\tthis._guidesContainer.removeChild(this._guidesContainer.firstChild);\n\t\t\t}\n\t\t}\n\t},\n\n\t_cleanUpShape: function () {\n\t\tif (this._markers.length > 1) {\n\t\t\tthis._markers[this._markers.length - 1].off('click', this._finishShape, this);\n\t\t}\n\t},\n\n\t_fireCreatedEvent: function () {\n\t\tvar poly = new this.Poly(this._poly.getLatLngs(), this.options.shapeOptions);\n\t\tL.Filter.Feature.prototype._fireCreatedEvent.call(this, poly);\n\t}\n});\n","L.Filter = (null != L.Filter) ? L.Filter : {};\n\nL.Filter.Polygon = L.Filter.Polyline.extend({\n\tstatics: {\n\t\tTYPE: 'polygon'\n\t},\n\n\tPoly: L.Polygon,\n\n\toptions: {\n\t\tshowArea: false,\n\t\tshapeOptions: {\n\t\t\tstroke: true,\n\t\t\tcolor: '#f06eaa',\n\t\t\tweight: 4,\n\t\t\topacity: 0.5,\n\t\t\tfill: true,\n\t\t\tfillColor: null, //same as color by default\n\t\t\tfillOpacity: 0.2,\n\t\t\tclickable: true,\n\t\t\teditable: true\n\t\t},\n\t\tmetric: true // Whether to use the metric meaurement system or imperial\n\t},\n\n\tinitialize: function (map, options) {\n\t\t// Save the type so super can fire, need to do this as cannot do this.TYPE :(\n\t\tthis.type = L.Filter.Polygon.TYPE;\n\n\t\tL.Filter.Polyline.prototype.initialize.call(this, map, options);\n\n\t\tthis._initialLabelText = L.filterLocal.filter.handlers.polygon.tooltip.start;\n\t\tthis._endLabelText = L.filterLocal.filter.handlers.polygon.tooltip.end;\n\t},\n\n\t// Programmatic way to draw a filter rectangle (bit of a hack)\n\tsetFilter: function(filter) {\n\n\t\t// Create a poly and return it\n\t\tvar poly = new L.Polygon(filter.latlngs, this.options.shapeOptions);\n\t\treturn { type: 'polygon', layer: poly };\n\n\t},\n\n\tequals: function(shape1, shape2) {\n\t\tif(shape1.type != shape2.type) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// maintain order of nested arrays by serializing to a string, then comparing\n\t\tvar shape1LatLng = JSON.stringify(shape1.latlngs),\n\t\t\tshape2LatLng = JSON.stringify(shape2.latlngs);\n\n\t\treturn (shape1LatLng == shape2LatLng);\n\t},\n\n\t// Get the geo representation of the current filter box\n\tgetGeo: function(layer) {\n\n\t\treturn {\n\t\t\ttype: 'polygon',\n\t\t\tlatlngs: layer.getLatLngs()\n\t\t};\n\n\t},\n\n\t_drawShape: function (latlngs) {\n\t\tif (!this._poly) {\n\t\t\tthis._poly = new L.Polygon(latlngs, this.options.shapeOptions);\n\t\t\tthis._map.addLayer(this._poly);\n\t\t}\n\t\telse {\n\t\t\tthis._poly.setLatLngs(latlngs);\n\t\t}\n\n\t\treturn { type: 'polygon', layer: this._poly };\n\t},\n\n\t_fireCreatedEvent: function () {\n\t\tvar polygon = new L.Polygon(this._poly.getLatLngs(), this.options.shapeOptions);\n\t\tL.Filter.Polyline.prototype._fireCreatedEvent.call(this, polygon);\n\t},\n\n\t_getTooltipText: function () {\n\t\tvar tooltipText = L.Filter.Polyline.prototype._getTooltipText.call(this),\n\t\t\tshape = this._poly,\n\t\t\tlatLngs, area, subtext;\n\n\t\tif (shape) {\n\t\t\tlatLngs = shape.getLatLngs();\n\t\t\tarea = L.GeometryUtil.geodesicArea(latLngs);\n\t\t\tsubtext = L.GeometryUtil.readableArea(area, this.options.metric);\n\t\t}\n\n\t\treturn {\n\t\t\ttext: tooltipText.text,\n\t\t\tsubtext: subtext\n\t\t};\n\t},\n\n\t_updateFinishHandler: function () {\n\t\tvar markerCount = this._markers.length;\n\n\t\t// The first marker should have a click handler to close the polygon\n\t\tif (markerCount === 1) {\n\t\t\tthis._markers[0].on('click', this._finishShape, this);\n\t\t}\n\n\t\t// Add and update the double click handler\n\t\tif (markerCount > 2) {\n\t\t\tthis._markers[markerCount - 1].on('dblclick', this._finishShape, this);\n\t\t\t// Only need to remove handler if has been added before\n\t\t\tif (markerCount > 3) {\n\t\t\t\tthis._markers[markerCount - 2].off('dblclick', this._finishShape, this);\n\t\t\t}\n\t\t}\n\t},\n\n\t_getMeasurementString: function () {\n\t\tvar area = this._area;\n\n\t\tif (!area) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn L.GeometryUtil.readableArea(area, this.options.metric);\n\t},\n\n\t_shapeIsValid: function () {\n\t\treturn this._markers.length >= 3;\n\t},\n\n\t_vertexChanged: function (latlng, added) {\n\t\tvar latLngs;\n\n\t\t// Check to see if we should show the area\n\t\tif (!this.options.allowIntersection && this.options.showArea) {\n\t\t\tlatLngs = this._poly.getLatLngs();\n\n\t\t\tthis._area = L.GeometryUtil.geodesicArea(latLngs);\n\t\t}\n\n\t\tL.Filter.Polyline.prototype._vertexChanged.call(this, latlng, added);\n\t},\n\n\t_cleanUpShape: function () {\n\t\tvar markerCount = this._markers.length;\n\n\t\tif (markerCount > 0) {\n\t\t\tthis._markers[0].off('click', this._finishShape, this);\n\n\t\t\tif (markerCount > 2) {\n\t\t\t\tthis._markers[markerCount - 1].off('dblclick', this._finishShape, this);\n\t\t\t}\n\t\t}\n\t}\n\n});\n","L.Filter = (null != L.Filter) ? L.Filter : {};\n\nL.Filter.Circle = L.Filter.SimpleShape.extend({\n\tstatics: {\n\t\tTYPE: 'circle'\n\t},\n\n\toptions: {\n\t\tshapeOptions: {\n\t\t\tstroke: true,\n\t\t\tcolor: '#f06eaa',\n\t\t\tweight: 4,\n\t\t\topacity: 0.5,\n\t\t\tfill: true,\n\t\t\tfillColor: null, //same as color by default\n\t\t\tfillOpacity: 0.2,\n\t\t\tclickable: true,\n\t\t\teditable: true\n\t\t},\n\t\tshowRadius: true,\n\t\tmetric: true // Whether to use the metric meaurement system or imperial\n\t},\n\n\tinitialize: function (map, options) {\n\t\t// Save the type so super can fire, need to do this as cannot do this.TYPE :(\n\t\tthis.type = L.Filter.Circle.TYPE;\n\t\tthis._initialLabelText = L.filterLocal.filter.handlers.circle.tooltip.start;\n\t\tL.Filter.SimpleShape.prototype.initialize.call(this, map, options);\n\t},\n\n\t// Get the geo representation of the current filter box\n\tgetGeo: function(layer) {\n\t\tvar center = layer.getLatLng();\n\t\tvar radius = layer.getRadius();\n\t\treturn {\n\t\t\ttype: 'circle',\n\t\t\tcenter: center,\n\t\t\tradius: radius\n\t\t};\n\t},\n\n\t// Programmatic way to draw a filter circle\n\tsetFilter: function(filter) {\n\t\t// Set startLatLng so edits remember the starting point\n\t\tthis._startLatLng = filter.center;\n\n\t\t// We don't need to add the circle since it's only added while editing. In this case, we just create a shape and return it\n\t\tvar shape = new L.Circle(filter.center, filter.radius, this.options.shapeOptions);\n\n\t\treturn { type: 'circle', 'layer': shape };\n\t},\n\n\tequals: function(shape1, shape2) {\n\t\tif(shape1.type != shape2.type) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn (shape1.center.lat === shape2.center.lat &&\n\t\t\t\tshape1.center.lng === shape2.center.lng &&\n\t\t\t\tshape1.radius === shape2.radius);\n\t},\n\n\t_drawShape: function (latlng) {\n\t\tif (!this._shape) {\n\t\t\tthis._shape = new L.Circle(this._startLatLng, this._startLatLng.distanceTo(latlng), this.options.shapeOptions);\n\t\t\tthis._map.addLayer(this._shape);\n\t\t}\n\t\telse {\n\t\t\tthis._shape.setRadius(this._startLatLng.distanceTo(latlng));\n\t\t}\n\t\treturn { type: 'circle', layer: this._shape };\n\t},\n\n\t_fireCreatedEvent: function () {\n\t\tvar circle = new L.Circle(this._shape.getLatLng(), this._shape.getRadius(), this.options.shapeOptions);\n\t\tL.Filter.SimpleShape.prototype._fireCreatedEvent.call(this, circle);\n\t},\n\n\t_getTooltipText: function () {\n\t\tvar tooltipText = L.Filter.SimpleShape.prototype._getTooltipText.call(this);\n\t\tvar shape = this._shape;\n\t\tvar latLngs, bounds, area, subtext;\n\n\t\tif (shape) {\n\t\t\tbounds = this._shape.getBounds();\n\t\t\tlatLngs = [\n\t\t\t\tbounds.getNorthWest(),\n\t\t\t\tbounds.getNorthEast(),\n\t\t\t\tbounds.getSouthEast(),\n\t\t\t\tbounds.getSouthWest()\n\t\t\t];\n\n\t\t\tarea = L.GeometryUtil.geodesicArea(latLngs) / 4 * Math.PI;\n\t\t\tsubtext = L.GeometryUtil.readableArea(area, this.options.metric);\n\t\t}\n\n\t\treturn {\n\t\t\ttext: tooltipText.text,\n\t\t\tsubtext: subtext\n\t\t};\n\t}\n\n});\n","L.Filter = (null != L.Filter) ? L.Filter : {};\n\nL.Filter.Rectangle = L.Filter.SimpleShape.extend({\n\tstatics: {\n\t\tTYPE: 'rectangle'\n\t},\n\n\toptions: {\n\t\tshapeOptions: {\n\t\t\tstroke: true,\n\t\t\tcolor: '#f06eaa',\n\t\t\tweight: 4,\n\t\t\topacity: 0.5,\n\t\t\tfill: true,\n\t\t\tfillColor: null, //same as color by default\n\t\t\tfillOpacity: 0.2,\n\t\t\tclickable: true,\n\t\t\teditable: true\n\t\t},\n\t\tmetric: true // Whether to use the metric meaurement system or imperial\n\t},\n\n\tinitialize: function (map, options) {\n\t\t// Save the type so super can fire, need to do this as cannot do this.TYPE :(\n\t\tthis.type = L.Filter.Rectangle.TYPE;\n\t\tthis._initialLabelText = L.filterLocal.filter.handlers.rectangle.tooltip.start;\n\t\tL.Filter.SimpleShape.prototype.initialize.call(this, map, options);\n\t},\n\n\t// Get the geo representation of the current filter box\n\tgetGeo: function(layer) {\n\t\treturn {\n\t\t\ttype: 'rectangle',\n\t\t\tnorthEast: {\n\t\t\t\tlat: layer.getBounds()._northEast.lat,\n\t\t\t\tlng: layer.getBounds()._northEast.lng,\n\t\t\t},\n\t\t\tsouthWest: {\n\t\t\t\tlat: layer.getBounds()._southWest.lat,\n\t\t\t\tlng: layer.getBounds()._southWest.lng,\n\t\t\t}\n\t\t};\n\t},\n\n\t// Programmatic way to draw a filter rectangle (bit of a hack)\n\tsetFilter: function(filter) {\n\t\tthis._startLatLng = filter.northEast;\n\n\t\tvar shape = new L.Rectangle(new L.LatLngBounds(this._startLatLng, filter.southWest), this.options.shapeOptions);\n\t\treturn { type: 'rectangle', 'layer': shape };\n\t},\n\n\tequals: function(shape1, shape2) {\n\t\tif(shape1.type != shape2.type) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn (shape1.northEast.lat === shape2.northEast.lat &&\n\t\t\t\tshape1.northEast.lng === shape2.northEast.lng &&\n\t\t\t\tshape1.southWest.lat === shape2.southWest.lat &&\n\t\t\t\tshape1.southWest.lng === shape2.southWest.lng);\n\t},\n\n\t_drawShape: function (latlng) {\n\t\tif (!this._shape) {\n\t\t\tthis._shape = new L.Rectangle(new L.LatLngBounds(this._startLatLng, latlng), this.options.shapeOptions);\n\t\t\tthis._map.addLayer(this._shape);\n\t\t}\n\t\telse {\n\t\t\tthis._shape.setBounds(new L.LatLngBounds(this._startLatLng, latlng));\n\t\t}\n\n\t\treturn { type: 'rectangle', layer: this._shape };\n\t},\n\n\t_fireCreatedEvent: function () {\n\t\tvar rectangle = new L.Rectangle(this._shape.getBounds(), this.options.shapeOptions);\n\t\tL.Filter.SimpleShape.prototype._fireCreatedEvent.call(this, rectangle);\n\t},\n\n\t_getTooltipText: function () {\n\t\tvar tooltipText = L.Filter.SimpleShape.prototype._getTooltipText.call(this);\n\t\tvar shape = this._shape;\n\t\tvar latLngs, bounds, area, subtext;\n\n\t\tif (shape) {\n\t\t\tbounds = this._shape.getBounds();\n\t\t\tlatLngs = [\n\t\t\t\tbounds.getNorthWest(),\n\t\t\t\tbounds.getNorthEast(),\n\t\t\t\tbounds.getSouthEast(),\n\t\t\t\tbounds.getSouthWest()\n\t\t\t];\n\n\t\t\tarea = L.GeometryUtil.geodesicArea(latLngs) / 4 * Math.PI;\n\t\t\tsubtext = L.GeometryUtil.readableArea(area, this.options.metric);\n\t\t}\n\n\t\treturn {\n\t\t\ttext: tooltipText.text,\n\t\t\tsubtext: subtext\n\t\t};\n\t}\n\n});\n","L.Filter = (null != L.Filter) ? L.Filter : {};\n\nL.Filter.Clear = L.Handler.extend({\n\tstatics: {\n\t\tTYPE: 'clear'\n\t},\n\n\tincludes: L.Mixin.Events,\n\n\tinitialize: function (map, options) {\n\t\tL.Handler.prototype.initialize.call(this, map);\n\t\tL.Util.setOptions(this, options);\n\t\tthis.type = L.Filter.Clear.TYPE;\n\t},\n\n\tlock: function() {\n\t\tthis._locked = true;\n\t},\n\n\tunlock: function() {\n\t\tthis._locked = false;\n\t},\n\n\tisLocked: function() {\n\t\treturn (null != this._locked && this._locked);\n\t},\n\n\tenable: function () {\n\t\tif(!this.isLocked()) {\n\t\t\tthis._map.fire('filter:cleared');\n\t\t}\n\t},\n\n\tdisable: function () {\n\t}\n\n});\n","L.Control.Filter = L.Control.extend({\n\n\toptions: {\n\t\tposition: 'topleft',\n\t\tfilter: {\n\t\t\trectangle: {},\n\t\t\tpolygon: {},\n\t\t\tcircle: {}\n\t\t}\n\t},\n\n\tinitialize: function (options) {\n\t\tL.Control.prototype.initialize.call(this, options);\n\n\t\tif (null == options.featureGroup || !(options.featureGroup instanceof L.FeatureGroup)) {\n\t\t\tthrow new Error('options.featureGroup must be an L.FeatureGroup');\n\t\t}\n\n\t\t// Initialize toolbars\n\t\tif (L.FilterToolbar && this.options.filter) {\n\t\t\tthis._toolbar = new L.FilterToolbar(this.options.filter);\n\t\t}\n\t},\n\n\tonAdd: function (map) {\n\t\tvar container = L.DomUtil.create('div', 'leaflet-draw'),\n\t\t\ttopClassName = 'leaflet-draw-toolbar-top',\n\t\t\ttoolbarContainer;\n\n\t\ttoolbarContainer = this._toolbar.addToolbar(map);\n\n\t\tif (toolbarContainer) {\n\t\t\t// Add class to the first toolbar to remove the margin\n\t\t\tif (!L.DomUtil.hasClass(toolbarContainer, topClassName)) {\n\t\t\t\tL.DomUtil.addClass(toolbarContainer.childNodes[0], topClassName);\n\t\t\t}\n\t\t\tcontainer.appendChild(toolbarContainer);\n\t\t}\n\n\t\t// register for create events\n\t\tmap.on('filter:created', this._filterCreatedHandler, this);\n\t\tmap.on('filter:cleared', this._filterClearedHandler, this);\n\n\t\treturn container;\n\t},\n\n\tonRemove: function (map) {\n\t\t// unregister create events\n\t\tmap.off('filter:created', this._filterCreatedHandler, this);\n\t\tmap.off('filter:cleared', this._filterClearedHandler, this);\n\n\t\tif (null != this._filterState) {\n\t\t\t// Unregister for the edit events\n\t\t\tthis._filterState.shape.off('edit', this._filterUpdatedHandler, this);\n\t\t}\n\n\t\tthis._toolbar.removeToolbar();\n\t},\n\n\tequals: function(shape1, shape2) {\n\t\treturn this._toolbar.equals(shape1, shape2);\n\t},\n\n\t// Public method to programatically set the state of the filter\n\tsetFilter: function(filter) {\n\t\t// Check to see if a change is being applied\n\t\tvar shape = (null != this._filterState)?\n\t\t\tthis._getGeo(this._filterState.type, this._filterState.shape)\n\t\t\t: undefined;\n\n\t\t// If there is no change, then we're just going to short circuit out of here\n\t\tif(this._toolbar.equals(shape, filter)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(null != filter) {\n\t\t\t// Clear the old filter\n\t\t\tthis._clearFilter(true);\n\n\t\t\t// Ask the handler for the filter object\n\t\t\tvar filterObject = this._toolbar.setFilter(filter);\n\n\t\t\t// Create the new filter\n\t\t\tthis._createFilter(filterObject);\n\t\t}\n\t\telse {\n\t\t\tthis._clearFilter();\n\t\t}\n\t},\n\n\t_createFilter: function(filter, suppressEvent) {\n\t\t//Add the created shape to the filter group\n\t\tthis.options.featureGroup.addLayer(filter.layer);\n\n\t\t// Store the internal representation of the filter state\n\t\tthis._filterState = { shape: filter.layer, type: filter.type };\n\n\t\t// Register for the edit events on the filter shape\n\t\tthis._filterState.shape.on('edit', this._filterUpdatedHandler, this);\n\n\t\t// Fire the event that we've updated the filter\n\t\tif(!suppressEvent) { this._map.fire('filter:filter', { geo : this._getGeo(filter.type, filter.layer) }); }\n\n\t\t// Set the filtered state on the toolbar\n\t\tthis._toolbar.setFiltered(true);\n\t},\n\n\t_clearFilter: function(suppressEvent) {\n\t\t// Remove the filter shape\n\t\tthis.options.featureGroup.clearLayers();\n\t\tthis._filterState = undefined;\n\n\t\t// Fire the event\n\t\tif(!suppressEvent) { this._map.fire('filter:filter', { geo: undefined }); }\n\n\t\t// Update the toolbar state\n\t\tthis._toolbar.setFiltered(false);\n\t},\n\n\t_filterCreatedHandler: function(e) {\n\t\tthis._createFilter({ type: e.layerType, layer: e.layer});\n\t},\n\n\t_filterUpdatedHandler: function() {\n\t\t// Only process updates when we have a stored filter shape\n\t\tif(null != this._filterState) {\n\t\t\tvar payload = {\n\t\t\t\tgeo: this._getGeo(this._filterState.type, this._filterState.shape)\n\t\t\t};\n\t\t\t// Only need to fire event - no need to update the toolbar\n\t\t\tthis._map.fire('filter:filter', payload);\n\t\t}\n\t},\n\n\t_filterClearedHandler: function() {\n\t\tthis._clearFilter();\n\t},\n\n\t_getGeo: function(layerType, layer) {\n\t\treturn this._toolbar.getGeo(layerType, layer);\n\t},\n\n\tsetFilteringOptions: function (options) {\n\t\tthis._toolbar.setOptions(options);\n\t}\n});\n\nL.Map.mergeOptions({\n\tdrawControlTooltips: false,\n\tfilterControl: false\n});\n\nL.Map.addInitHook(function () {\n\tif (this.options.filterControl) {\n\t\tthis.filterControl = new L.Control.Filter();\n\t\tthis.addControl(this.filterControl);\n\t}\n});\n\nL.control.filter = function(options) {\n\treturn new L.Control.Filter(options);\n};\n","L.FilterToolbar = L.FontAwesomeToolbar.extend({\n\n\toptions: {\n\t\trectangle: {},\n\t\tpolygon: {},\n\t\tcircle: {}\n\t},\n\n\tinitialize: function (options) {\n\t\t/*\n\t\t * Override default options based on what is passed in\n\t\t * Set the options to be the combination of what was passed in and what is default\n\t\t */\n\t\tfor (var type in this.options) {\n\t\t\tif (this.options.hasOwnProperty(type)) {\n\t\t\t\tif (options[type]) {\n\t\t\t\t\toptions[type] = L.extend({}, this.options[type], options[type]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Set this.options to be options since we have already extended the options\n\t\tthis.options = options;\n\t\tthis._toolbarClass = 'leaflet-draw-filter';\n\t\tL.FontAwesomeToolbar.prototype.initialize.call(this, options);\n\t},\n\n\tgetModeHandlers: function (map) {\n\t\tvar handlers = [];\n\t\tif(null != L.Filter.Rectangle) {\n\t\t\thandlers.push({\n\t\t\t\tenabled: this.options.rectangle,\n\t\t\t\thandler: new L.Filter.Rectangle(map, this.options.rectangle),\n\t\t\t\ttitle: L.filterLocal.filter.toolbar.buttons.rectangle,\n\t\t\t\ticon: 'fa icon-square'\n\t\t\t});\n\t\t}\n\t\tif(null != L.Filter.Polygon) {\n\t\t\thandlers.push({\n\t\t\t\tenabled: this.options.polygon,\n\t\t\t\thandler: new L.Filter.Polygon(map, this.options.polygon),\n\t\t\t\ttitle: L.filterLocal.filter.toolbar.buttons.polygon,\n\t\t\t\ticon: 'fa icon-hex'\n\t\t\t});\n\t\t}\n\t\tif(null != L.Filter.Circle) {\n\t\t\thandlers.push({\n\t\t\t\tenabled: this.options.circle,\n\t\t\t\thandler: new L.Filter.Circle(map, this.options.circle),\n\t\t\t\ttitle: L.filterLocal.filter.toolbar.buttons.circle,\n\t\t\t\ticon: 'fa fa-circle-o'\n\t\t\t});\n\t\t}\n\t\tif(null != L.Filter.Clear) {\n\t\t\thandlers.push({\n\t\t\t\tenabled: true,\n\t\t\t\thandler: new L.Filter.Clear(map, this.options.clear),\n\t\t\t\ttitle: L.filterLocal.filter.toolbar.buttons.clear,\n\t\t\t\ticon: 'fa fa-trash-o'\n\t\t\t});\n\t\t}\n\n\t\treturn handlers;\n\t},\n\n\t// Get the actions part of the toolbar\n\tgetActions: function () {\n\t\treturn [\n\t\t\t{\n\t\t\t\ttitle: L.filterLocal.filter.toolbar.actions.title,\n\t\t\t\ttext: L.filterLocal.filter.toolbar.actions.text,\n\t\t\t\tcallback: this.disable,\n\t\t\t\tcontext: this\n\t\t\t}\n\t\t];\n\t},\n\n\tsetOptions: function (options) {\n\t\tL.setOptions(this, options);\n\n\t\tfor (var type in this._modes) {\n\t\t\tif (this._modes.hasOwnProperty(type) && options.hasOwnProperty(type)) {\n\t\t\t\tthis._modes[type].handler.setOptions(options[type]);\n\t\t\t}\n\t\t}\n\t},\n\n\taddToolbar: function (map) {\n\t\tvar container = L.FontAwesomeToolbar.prototype.addToolbar.call(this, map);\n\t\tthis.setFiltered(false);\n\t\treturn container;\n\t},\n\n\tsetFiltered: function(filtered) {\n\t\tvar type;\n\n\t\tif(filtered) {\n\t\t\tfor(type in this._modes) {\n\t\t\t\t// The two draw buttons are disabled when we are filtered\n\t\t\t\tL.DomUtil.addClass(this._modes[type].button, 'leaflet-disabled');\n\t\t\t\tthis._modes[type].button.setAttribute('title', L.filterLocal.filter.toolbar.buttons.disabled);\n\t\t\t\tthis._modes[type].handler.lock();\n\t\t\t}\n\n\t\t\t// Clear button is enabled\n\t\t\tL.DomUtil.removeClass(this._modes.clear.button, 'leaflet-disabled');\n\t\t\tthis._modes.clear.button.setAttribute('title', L.filterLocal.filter.toolbar.buttons.clear);\n\t\t\tthis._modes.clear.handler.unlock();\n\n\t\t}\n\t\telse {\n\t\t\tfor(type in this._modes) {\n\t\t\t\t// The two draw buttons are enabled when there are no filters\n\t\t\t\tL.DomUtil.removeClass(this._modes[type].button, 'leaflet-disabled');\n\t\t\t\tthis._modes[type].button.setAttribute('title', L.filterLocal.filter.toolbar.buttons[type]);\n\t\t\t\tthis._modes[type].handler.unlock();\n\t\t\t}\n\n\t\t\t// Clear button is disabled\n\t\t\tL.DomUtil.addClass(this._modes.clear.button, 'leaflet-disabled');\n\t\t\tthis._modes.clear.button.setAttribute('title', L.filterLocal.filter.toolbar.buttons.clearDisabled);\n\t\t\tthis._modes.clear.handler.lock();\n\t\t}\n\t},\n\n\tsetFilter: function(filter) {\n\t\tif(null != this._modes[filter.type]) {\n\t\t\tvar handler = this._modes[filter.type].handler;\n\n\t\t\thandler.enable();\n\t\t\tthis.setFiltered(null != filter);\n\t\t\tvar toReturn = handler.setFilter(filter);\n\t\t\thandler.disable();\n\n\t\t\treturn toReturn;\n\t\t}\n\t\telse {\n\t\t\tconsole.error('Unsupported filter type: ' + filter.type);\n\t\t}\n\t},\n\n\tgetGeo: function(layerType, layer) {\n\t\treturn this._modes[layerType].handler.getGeo(layer);\n\t},\n\n\tequals: function(shape1, shape2) {\n\t\tif(shape1 == null || shape1.type == null) {\n\t\t\tshape1 = null;\n\t\t}\n\t\tif(shape2 == null || shape2.type == null) {\n\t\t\tshape2 = null;\n\t\t}\n\n\t\tif(shape1 == null && shape2 == null) {\n\t\t\treturn true;\n\t\t}\n\t\telse if(shape1 == null || shape2 == null) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn this._modes[shape1.type].handler.equals(shape1, shape2);\n\t}\n\n});\n"],"names":[],"mappings":"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"}